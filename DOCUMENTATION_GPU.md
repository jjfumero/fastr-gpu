# FastR-GPU Compiler Framework for OpenCL JIT Compilation

## Threads options

#### Use the marawacc threads when sapply for Java threads

To enable marawacc threads:

```bash
-Dastx.marawacc.threads=true 
```

Disable with: 

```bash
-Dastx.marawacc.threads=false
```

## OpenCL optimizations

#### Optimization for avoiding marshal and unmarshal

Enable PArrays in marshal and unmarshal

```bash
-Dastx.marawacc.usePArrays=true
```

#### Use Sequence

```bash
-Dastx.marawacc.optimizeRSequence=true
```

#### Use subtypes of new sequences (Flag and Compass)

```bash
-Dastx.marawacc.useTypeOfSequences=true
```

#### Use primitive arrays for PArrays (save marshal and unmarshall totally)

```bash
-Dastx.marawacc.primArrays=true
```


## Debug

#### Print R AST to be executed on the GPU.

```bash
-Dastx.marawacc.printast=true   # False by default
```

#### Enable profiling

```bash
-Dastx.marawacc.profiler=true   # false by default
```

#### Print the autogenerated kernel (False by default)

```bash
-Dmarawacc.printOCLKernel=true
```

#### Print the GraalIR that will be used for OpenCL kernel generation

```bash
-Dmarawacc.printGraalIR=true
```

#### Print OpenCL Information about the platform and kernel compilation

```bash
-Dmarawacc.printOCLInfo=true
```

#### Dump Graph IR with IGV 

```bash
-Dmarawacc.dumpGraph=true
```


## Combine with Marawacc options: FastR can set marawacc options too 

Choose a specific OpenCL vendor for CPU

```bash
$ export GRAAL_CPU_PLATFORM="INTEL"
```

Chosse a specific OpenCL vendor for GPU

```bash
$ export GRAAL_GPU_PLATFORM="NVIDIA"
```



